{% extends 'base.html' %} {% block styles %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/index.css') }}"
/>
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/settings.css') }}"
/>
{% endblock %} {% block content %}
<div class="index-container">
  <!-- Most Liked Games Section -->
  <section>
    <h2>Most Liked Games</h2>
    <div class="scroll-container">
      <button class="scroll-arrow left-arrow">
        <i class="bi bi-chevron-left"></i>
      </button>
      <div class="scroll-wrapper">
        <div id="mostLikedContainer" class="game-container"></div>
      </div>
      <button class="scroll-arrow right-arrow">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </section>

  <!-- Recent Games Section -->
  <section>
    <h2>Recent Games</h2>
    <div class="scroll-container">
      <button class="scroll-arrow left-arrow">
        <i class="bi bi-chevron-left"></i>
      </button>
      <div class="scroll-wrapper">
        <div id="mostRecentContainer" class="game-container"></div>
      </div>
      <button class="scroll-arrow right-arrow">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </section>

  <!-- Most Played Games Section -->
  <section>
    <h2>Most Played Games</h2>
    <div class="scroll-container">
      <button class="scroll-arrow left-arrow">
        <i class="bi bi-chevron-left"></i>
      </button>
      <div class="scroll-wrapper">
        <div id="mostPlayedContainer" class="game-container"></div>
      </div>
      <button class="scroll-arrow right-arrow">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </section>
</div>

{% endblock %} {% block scripts %}
<script src="static/js/index.js"></script>
<script src="static/js/settings.js"></script>

<!-- Scroll Handler -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const containers = document.querySelectorAll(".scroll-container");
    containers.forEach((container) => {
      const wrapper = container.querySelector(".scroll-wrapper");
      const leftArrow = container.querySelector(".left-arrow");
      const rightArrow = container.querySelector(".right-arrow");

      function updateArrows() {
        const atStart = wrapper.scrollLeft === 0;
        const atEnd =
          wrapper.scrollLeft + wrapper.clientWidth >= wrapper.scrollWidth;
        leftArrow.style.display = atStart ? "none" : "flex";
        rightArrow.style.display = atEnd ? "none" : "flex";
      }

      updateArrows();
      wrapper.addEventListener("scroll", updateArrows);

      leftArrow.addEventListener("click", function () {
        wrapper.scrollBy({ left: -200, behavior: "smooth" });
      });

      rightArrow.addEventListener("click", function () {
        wrapper.scrollBy({ left: 200, behavior: "smooth" });
      });
    });
  });
</script>
{% endblock %}
